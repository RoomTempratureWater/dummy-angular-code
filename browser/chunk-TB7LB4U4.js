import{a as _}from"./chunk-7ZLDGE74.js";import{C as l,Ea as v,Ha as w,La as b,O as s,S as p,Ta as S,aa as u,da as n,db as y,f as r,fa as f,hb as C,ib as F,la as c,ua as m,va as a,wa as g,xa as d,za as h}from"./chunk-A36ACV2Y.js";var j=(i,I,e)=>({disabled:i,"btn-outline-secondary":I,"btn-secondary":e}),q=(()=>{class i{constructor(e,o,t){this.profileService=e,this.router=o,this.userService=t,this.toggle=new c,this.isSubmitting=!1,this.destroyRef=s(p)}toggleFollowing(){this.isSubmitting=!0,this.userService.isAuthenticated.pipe(l(e=>e?this.profile.following?this.profileService.unfollow(this.profile.username):this.profileService.follow(this.profile.username):(this.router.navigate(["/login"]),r)),F(this.destroyRef)).subscribe({next:e=>{this.isSubmitting=!1,this.toggle.emit(e)},error:()=>this.isSubmitting=!1})}static{this.\u0275fac=function(o){return new(o||i)(n(_),n(y),n(C))}}static{this.\u0275cmp=f({type:i,selectors:[["app-follow-button"]],inputs:{profile:"profile"},outputs:{toggle:"toggle"},decls:3,vars:7,consts:[[1,"btn","btn-sm","action-btn",3,"click","ngClass"],[1,"ion-plus-round"]],template:function(o,t){o&1&&(a(0,"button",0),h("click",function(){return t.toggleFollowing()}),d(1,"i",1),v(2),g()),o&2&&(m("ngClass",b(3,j,t.isSubmitting,!t.profile.following,t.profile.following)),u(2),w(" \xA0 ",t.profile.following?"Unfollow":"Follow"," ",t.profile.username," "))},dependencies:[S],encapsulation:2})}}return i})();export{q as a};
