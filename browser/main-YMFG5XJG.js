import{a as $}from"./chunk-B2JX3RTC.js";import{$ as E,Aa as k,Ea as o,Ga as d,Ja as w,Ka as D,Ma as f,Na as H,O as r,Oa as F,Ua as U,Va as b,Wa as M,Za as R,_a as j,aa as c,ab as v,cb as z,eb as h,f as _,fa as l,fb as O,gb as P,hb as m,i as S,k as g,ka as I,oa as T,pa as x,qa as A,t as L,ua as s,va as a,wa as n,xa as u}from"./chunk-A36ACV2Y.js";import{a as y}from"./chunk-2VMXMS7J.js";var V=()=>({exact:!0}),X=t=>["/profile",t];function Z(t,p){t&1&&(a(0,"ul",4)(1,"li",5)(2,"a",6),o(3," Home "),n()(),a(4,"li",5)(5,"a",7),o(6," Sign in "),n()(),a(7,"li",5)(8,"a",8),o(9," Sign up "),n()()())}function tt(t,p){if(t&1&&u(0,"img",15),t&2){let e=k();s("src",e.image,E)}}function et(t,p){if(t&1&&(a(0,"li",5)(1,"a",14),x(2,tt,1,1,"img",15),o(3),n()()),t&2){let e=p;c(),s("routerLink",D(3,X,e.username)),c(),A(e.image?2:-1),c(),d(" ",e.username," ")}}function it(t,p){if(t&1&&(a(0,"ul",4)(1,"li",5)(2,"a",9),o(3," Home "),n()(),a(4,"li",5)(5,"a",10),u(6,"i",11),o(7,"\xA0New Article "),n()(),a(8,"li",5)(9,"a",12),u(10,"i",13),o(11,"\xA0Settings "),n()(),x(12,et,4,5,"li",5),f(13,"async"),n()),t&2){let e,i=k();c(2),s("routerLinkActiveOptions",w(4,V)),c(10),A((e=H(13,2,i.currentUser$))?12:-1,e)}}var J=(()=>{class t{constructor(){this.currentUser$=r(m).currentUser}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=l({type:t,selectors:[["app-layout-header"]],decls:6,vars:2,consts:[[1,"navbar","navbar-light"],[1,"container"],["routerLink","/",1,"navbar-brand"],["class","nav navbar-nav pull-xs-right",4,"ifAuthenticated"],[1,"nav","navbar-nav","pull-xs-right"],[1,"nav-item"],["routerLink","/",1,"nav-link"],["routerLink","/login","routerLinkActive","active",1,"nav-link"],["routerLink","/register","routerLinkActive","active",1,"nav-link"],["routerLink","/","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/editor","routerLinkActive","active",1,"nav-link"],[1,"ion-compose"],["routerLink","/settings","routerLinkActive","active",1,"nav-link"],[1,"ion-gear-a"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"user-pic",3,"src"]],template:function(i,C){i&1&&(a(0,"nav",0)(1,"div",1)(2,"a",2),o(3,"conduit"),n(),I(4,Z,10,0,"ul",3)(5,it,14,5,"ul",3),n()()),i&2&&(c(4),s("ifAuthenticated",!1),c(),s("ifAuthenticated",!0))},dependencies:[O,h,U,$],encapsulation:2})}}return t})();var q=(()=>{class t{constructor(){this.today=Date.now()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=l({type:t,selectors:[["app-layout-footer"]],decls:10,vars:4,consts:[[1,"container"],["routerLink","/",1,"logo-font"],[1,"attribution"],["href","https://github.com/gothinkster/realworld"]],template:function(i,C){i&1&&(a(0,"footer")(1,"div",0)(2,"a",1),o(3,"conduit"),n(),a(4,"span",2),o(5),f(6,"date"),a(7,"a",3),o(8,"RealWorld OSS Project"),n(),o(9,". Code licensed under MIT. "),n()()()),i&2&&(c(5),d(" \xA9 ",F(6,1,C.today,"yyyy"),". An interactive learning project from "))},dependencies:[b,h],encapsulation:2,changeDetection:0})}}return t})();var N=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=l({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(i,C){i&1&&u(0,"app-layout-header")(1,"router-outlet")(2,"app-layout-footer")},dependencies:[J,z,q],encapsulation:2})}}return t})();var W=[{path:"",loadComponent:()=>import("./chunk-EPAURVB2.js")},{path:"login",loadComponent:()=>import("./chunk-V4AAZJVS.js"),canActivate:[()=>r(m).isAuthenticated.pipe(g(t=>!t))]},{path:"register",loadComponent:()=>import("./chunk-V4AAZJVS.js"),canActivate:[()=>r(m).isAuthenticated.pipe(g(t=>!t))]},{path:"settings",loadComponent:()=>import("./chunk-S3HB7ARG.js"),canActivate:[()=>r(m).isAuthenticated]},{path:"profile",loadChildren:()=>import("./chunk-NJQZFFE3.js")},{path:"editor",children:[{path:"",loadComponent:()=>import("./chunk-MKWWFW7D.js"),canActivate:[()=>r(m).isAuthenticated]},{path:":slug",loadComponent:()=>import("./chunk-MKWWFW7D.js"),canActivate:[()=>r(m).isAuthenticated]}]},{path:"article/:slug",loadComponent:()=>import("./chunk-SGRUFEVZ.js")}];var Y=(t,p)=>{let e=t.clone({url:`https://api.realworld.io/api${t.url}`});return p(e)};var G=(t,p)=>{let e=r(v).getToken(),i=t.clone({setHeaders:y({},e?{Authorization:`Token ${e}`}:{})});return p(i)};var K=(t,p)=>p(t).pipe(L(e=>S(()=>e.error)));function nt(t,p){return()=>t.getToken()?p.getCurrentUser():_}var Q={providers:[P(W),R(j([Y,G,K])),T(()=>nt(r(v),r(m))())]};M(N,Q).catch(t=>console.error(t));
