import{a as R}from"./chunk-LN23UZCV.js";import{$ as b,Ba as m,C as h,Ca as u,Ea as d,Ga as f,Ka as v,La as F,Ma as k,O as S,Oa as _,S as y,Ta as j,Va as E,aa as o,da as c,db as M,eb as I,f as g,fa as l,hb as A,ib as L,la as C,ua as a,va as s,wa as n,xa as p,za as D}from"./chunk-A36ACV2Y.js";var U=["*"],w=e=>["/profile",e],q=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=l({type:e,selectors:[["app-article-meta"]],inputs:{article:"article"},ngContentSelectors:U,decls:10,vars:12,consts:[[1,"article-meta"],[3,"routerLink"],[3,"src"],[1,"info"],[1,"author",3,"routerLink"],[1,"date"]],template:function(i,t){i&1&&(m(),s(0,"div",0)(1,"a",1),p(2,"img",2),n(),s(3,"div",3)(4,"a",4),d(5),n(),s(6,"span",5),d(7),k(8,"date"),n()(),u(9),n()),i&2&&(o(),a("routerLink",v(8,w,t.article.author.username)),o(),a("src",t.article.author.image,b),o(2),a("routerLink",v(10,w,t.article.author.username)),o(),f(" ",t.article.author.username," "),o(2),f(" ",_(8,5,t.article.createdAt,"longDate")," "))},dependencies:[I,E],encapsulation:2,changeDetection:0})}}return e})();var P=["*"],z=(e,B,r)=>({disabled:e,"btn-outline-primary":B,"btn-primary":r}),ee=(()=>{class e{constructor(r,i,t){this.articleService=r,this.router=i,this.userService=t,this.destroyRef=S(y),this.isSubmitting=!1,this.toggle=new C}toggleFavorite(){this.isSubmitting=!0,this.userService.isAuthenticated.pipe(h(r=>r?this.article.favorited?this.articleService.unfavorite(this.article.slug):this.articleService.favorite(this.article.slug):(this.router.navigate(["/register"]),g)),L(this.destroyRef)).subscribe({next:()=>{this.isSubmitting=!1,this.toggle.emit(!this.article.favorited)},error:()=>this.isSubmitting=!1})}static{this.\u0275fac=function(i){return new(i||e)(c(R),c(M),c(A))}}static{this.\u0275cmp=l({type:e,selectors:[["app-favorite-button"]],inputs:{article:"article"},outputs:{toggle:"toggle"},ngContentSelectors:P,decls:3,vars:5,consts:[[1,"btn","btn-sm",3,"click","ngClass"],[1,"ion-heart"]],template:function(i,t){i&1&&(m(),s(0,"button",0),D("click",function(){return t.toggleFavorite()}),p(1,"i",1),u(2),n()),i&2&&a("ngClass",F(1,z,t.isSubmitting,!t.article.favorited,t.article.favorited))},dependencies:[j],encapsulation:2})}}return e})();export{q as a,ee as b};
